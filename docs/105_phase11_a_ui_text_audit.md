# 105 — Phase11-A UI 文言 現状洗い出し・改善案

Phase11-A として、内部用語（Diff, Confirmation, Apply, consumed 等）を個人用 OS として自然で分かりやすい日本語に置き換えるための現状整理と改善案を記載する。

**前提**: 機能追加・DB 変更・API 変更は行わない。表示文言の変更のみを対象とする。

**参照**: [src/app/dashboard/page.tsx](src/app/dashboard/page.tsx)、[src/components/ProposalPanel.tsx](src/components/ProposalPanel.tsx)、[src/components/TreeList.tsx](src/components/TreeList.tsx)。

---

## 1. 現状の画面テキスト一覧

### 1.1 ダッシュボード（page.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| ページタイトル | 状態が見えるダッシュボード |
| サブタイトル | 「机の上（アクティブ）」だけをトレーに分けて表示します |
| 読み込み中 | 読み込み中… |
| エラー見出し | エラー |
| トレーラベル | 全て（机の上）、実施中、判断待ち、外部待ち、冷却中、その他 |
| 一覧ヘッダー | 一覧：{トレーラベル} |
| 表示切替ボタン | フラット、ツリー |
| ノードなし | 対象のノードがありません |
| ノード行（途中内容なし） | （途中内容なし） |
| 詳細パネル見出し | 詳細 |
| 未選択時 | 左の一覧からノードをクリックしてください |
| ノード詳細 | 状態：、温度：、（参考値・06_Temperature_Spec準拠）、途中内容：、更新： |
| 不明時 | （不明）、（タイトルなし） |
| Phase10-A ブロック見出し | 関連する直近履歴 |
| Phase10-A 取得中 | 取得中… |
| Phase10-A 取得失敗 | 取得できませんでした |
| Phase10-A 0件 | 該当する履歴はありません |
| Phase10-A 理由表示 | 理由: {value} |
| 何が起きた？見出し | 何が起きた？ |
| 何が起きた？説明 | 状態の推定に使います。メモとしても履歴に残ります。 |
| 何が起きた？placeholder | 例：「返信待ちになった」「もう完了した」「判断に迷っている」 |
| 推定ボタン | 推定中…、推定する |
| 推定結果見出し | 推定結果 |
| この状態にする | この状態にする |
| 違う…／候補を閉じる | 違う…、候補を閉じる |
| メモだけ残す | メモだけ残す |
| キーワードから推定できなかった | キーワードから状態を推定できませんでした。以下から選ぶか、メモだけ残せます。 |
| 他の遷移先を選ぶ | 他の遷移先を選ぶ： |
| 反映中 | 反映中… |
| 状態変更成功メッセージ | {from}（{fromLabel}）→ {to}（{toLabel}）に変更しました、メモを記録しました（状態は変更なし） |

### 1.2 提案パネル — 共通・Organizer（ProposalPanel.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| パネル見出し | 提案パネル（Phase 4） |
| データ未読込時 | ダッシュボードを読み込んでから利用できます。 |
| タブ | Organizer、Advisor |
| ユーザー意図ラベル | ユーザー意図（任意） |
| ユーザー意図 placeholder | 例: 大きなタスクを分解して / この Node の選択肢が知りたい |
| Organizer 実行ボタン | 生成中…、Organizer提案を生成 |
| 実行中 | 実行中… |
| 復元ブロック見出し | 復元した Apply 候補（relation / grouping / decomposition） |
| 理由ラベル | 理由（任意） |
| 理由 placeholder | 適用の理由を入力 |
| 反映ボタン（復元） | 適用中…、このDiffを反映する |
| クリアボタン | クリア |
| 適用可能 Diff 見出し | 適用可能な Diff（relation）、適用可能な Diff（grouping）、適用可能な Diff（decomposition） |
| 要確認バッジ | 要確認 |
| 反映ボタン（Organizer） | 適用中…、このDiffを反映する |
| 反映成功メッセージ | 反映しました（{from} → {to} / {relation_type}）、反映しました（{group_label} / n 件）、反映しました（親 … に子 n 件作成） |
| 確認ダイアログ（relation） | Node {from} と {to} の間に {relation_type} を 1 本追加します。よろしいですか？ |
| 確認ダイアログ（grouping） | 「{group_label}」で n 件の Node をグループ化します。よろしいですか？ |
| 確認ダイアログ（decomposition） | 親 Node … に子 Node を n 件作成して紐づけます。よろしいですか？ |
| エラー（反映失敗） | 反映に失敗しました |
| エラー（確認ID） | 確認IDの発行に失敗しました |
| エラー（通信） | 通信に失敗しました。ネットワークを確認して再実行してください |
| エラー（ステータス変更） | ステータス変更に失敗しました |
| エラー（画面更新失敗） | 適用は成功しましたが、画面更新に失敗しました。再読み込みしてください |

### 1.3 提案パネル — 履歴（ProposalPanel.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| 履歴ブロック見出し | 適用済み Diff 履歴 |
| 種別ラベル | 種別: |
| 種別オプション | すべて、関連、グループ化、分解 |
| node_id ラベル | node_id: |
| node_id placeholder | node_id（任意） |
| 絞り込みボタン | 絞り込む、クリア |
| バリデーションエラー | UUID形式ではありません |
| 履歴読み込み中 | 読み込み中… |
| 履歴取得失敗 | 履歴の取得に失敗しました |
| 0件（フィルタあり） | 該当する履歴がありません |
| 0件（フィルタなし） | Apply 済みの Diff はまだありません |
| 履歴詳細（再表示ボタン） | この変更内容をApply候補として再表示する |
| 履歴詳細（理由） | 理由: {value} |
| 履歴詳細（英語キー表示） | from_node_id, to_node_id, relation_type, diff_id, group_label, node_ids, parent_node_id, add_children (title) |

### 1.4 提案パネル — Advisor（ProposalPanel.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| 対象 Node ラベル | 対象 Node（未指定なら 1 件目） |
| 未指定オプション | — 未指定 — |
| 無題 | （無題） |
| Advisor 実行ボタン | 生成中…、Advisor提案を生成 |
| 実行中 | 実行中… |
| 選択中の案見出し | 選択中の案 |
| 次の一手 / 必要情報 / 判断基準 / リスク | 次の一手:、必要情報:、判断基準:、リスク: |
| Apply セクション見出し | Apply（ステータス変更） |
| 対象Nodeが見つかりません | 対象Nodeが見つかりません |
| 現在のステータス | 現在のステータス: |
| 変更先ラベル | 変更先 |
| 適用ボタン | 適用中…、Apply |
| 監査用詳細ボタン | 閉じる、監査用詳細 |
| 現在のステータスが不明なため Apply できません | 現在のステータスが不明なため Apply できません |
| 選択を解除 | 選択を解除 |
| 適用成功メッセージ | 適用しました（…） |

### 1.5 Observer パネル（page.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| 見出し | Observer の提案 |
| 取得日時 / source / node_count / rule_version | 取得日時:、source:、node_count:、rule_version: |
| 最終観測 | 最終観測:、たった今、n分前、n時間前、n日以上前 |
| 少し古い提案 | ⚠ 少し古い提案です |
| 異常検知見出し | ⚠ Observer が異常を検知しました（n件） |
| 詳細ボタン | 詳細を閉じる、詳細を見る |

### 1.6 TreeList（TreeList.tsx）

| 箇所 | 現状の文言 |
|------|------------|
| 展開/閉じる（aria-label） | 閉じる、開く |
| 子件数 | 子{n}件 |
| 循環打ち切り | （循環のため表示を打ち切り） |

### 1.7 その他（内部表示・開発者向け）

- 復元カード内の `（履歴から再表示）`（reason のデフォルト）
- 履歴詳細の `diff_id`、`from_node_id` 等のキー名（技術用語のまま表示されている箇所）

---

## 2. 改善案（日本語最適化）

### 2.1 内部用語 → 自然な日本語の対応方針

| 内部用語 | 改善案（ユーザー向け） | 備考 |
|----------|------------------------|------|
| **Diff** | **変更案** または **提案された変更** | 「適用可能な Diff」→「適用できる変更案」、「このDiffを反映する」→「この変更を反映する」 |
| **Apply** | **反映する** または **適用する** | ボタンは「反映する」が自然。「Apply 済み」→「反映済み」 |
| **Confirmation / 確認ID** | **確認** のまま、または出さない | エラー時のみ「確認の取得に失敗しました」等に短縮可能 |
| **consumed** | 画面には出さない（API/DB用語） | 「Apply 済みの Diff」→「反映済みの変更」 |
| **Organizer** | **構成提案** または **整理** | 「Organizer提案を生成」→「構成案を生成」など |
| **Advisor** | **判断アドバイス** または **アドバイス** | 「Advisor提案を生成」→「判断案を生成」など |
| **Node** | **ノード** のまま、または **項目** | 個人用OSでは「ノード」でも可。文脈で「この項目」に変えるとより自然な箇所あり |
| **Phase 4** | 見出しから削除 | 「提案パネル（Phase 4）」→「提案パネル」 |
| **relation / grouping / decomposition** | **関係追加 / グループ化 / 分解** のまま | 既に日本語ラベル化済み。英語の type 名は履歴詳細のキー表示を減らすとよい |
| **適用済み Diff 履歴** | **反映した変更の履歴** または **変更の履歴** | |
| **適用可能な Diff** | **反映できる変更案** | |
| **復元した Apply 候補** | **再表示した変更案** または **履歴から出した変更案** | |
| **この変更内容をApply候補として再表示する** | **この変更をいまの候補として再表示する** または **もう一度候補に出す** | |
| **node_id（任意）** | **ノード ID（任意）** または **対象の項目 ID** | |
| **Apply（ステータス変更）** | **状態を変更する** | |
| **監査用詳細** | **詳細（確認ID）** または **技術詳細** | 一般ユーザーには「監査」より「詳細」 |

### 2.2 画面別・主な変更案一覧

**ダッシュボード**

- 「関連する直近履歴」→ そのままでよい（すでに自然）。
- 「取得できませんでした」→ 「取得できませんでした」のまま、または「読み込めませんでした」。

**提案パネル（Organizer）**

- 「提案パネル（Phase 4）」→「提案パネル」。
- 「Organizer提案を生成」→「構成案を生成」または「整理案を生成」。
- 「適用可能な Diff（relation）」→「反映できる変更案（関係の追加）」など、括弧内は既存の関係追加/グループ化/分解で統一。
- 「このDiffを反映する」→「この変更を反映する」。
- 「適用の理由を入力」→「理由（任意）」のまま、または「メモ（任意）」。
- 「適用中…」→「反映中…」（ダッシュボードの「反映中…」と揃える）。

**提案パネル（履歴）**

- 「適用済み Diff 履歴」→「反映した変更の履歴」または「変更の履歴」。
- 「Apply 済みの Diff はまだありません」→「まだ反映した変更はありません」。
- 「この変更内容をApply候補として再表示する」→「この変更を候補に再表示する」など短く。
- 「node_id」→「ノード ID」または「項目 ID」。

**提案パネル（Advisor）**

- 「Advisor提案を生成」→「判断案を生成」など。
- 「Apply（ステータス変更）」→「状態を変更する」。
- 「Apply」ボタン →「反映する」または「この状態にする」。
- 「現在のステータスが不明なため Apply できません」→「現在の状態が分からないため変更できません」。

**Observer**

- 「Observer の提案」→「観測結果の提案」または「Observer の提案」のまま（製品名扱いならそのまま）。
- 「source」「node_count」「rule_version」→ ラベルを「取得元」「ノード数」「ルール版」などに変更可能（技術的であえて残す場合はそのまま）。

**TreeList**

- 「子{n}件」→ そのままでよい。

### 2.3 変更しない方針（本 Phase で触れない文言）

- 状態ラベル（実施中・判断待ち等）は既存の 05_State_Machine / STATUS_LABELS に依存するため、Phase11-A では変更対象としない。
- API のキー名（from_node_id 等）はレスポンス仕様のため変更しない。**画面にそのまま出している部分**だけ、表示用ラベルに置き換える（例: 履歴詳細で「from_node_id」→「元の項目」など、表示用の対応表を別途検討可能）。
- エラーメッセージの「確認IDの発行に失敗しました」は、ユーザーに分かりやすく「確認の取得に失敗しました」程度に留める。

---

## 3. 本ドキュメントの位置づけ

- **105** は Phase11-A の「現状洗い出し」と「改善案の提案」をまとめたものとする。
- 実際の文言変更は、本ドキュメントを参照しつつ別タスク（実装計画・DoD）で行う想定とする。
- 機能追加・DB 変更・API 変更は行わない。表示テキストの置き換えのみを対象とする。

---

以上。Phase11-A UI 文言の現状一覧と改善案を記載した。
