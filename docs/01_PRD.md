# context-os  
## Product Requirements Document（PRD）

---

## 0. 本PRDの役割

本PRDは、context-osを  
**「思想から実装まで一貫して作り続けるための設計中枢」**である。

- 機能一覧を書くための資料ではない  
- 画面仕様を説明する資料でもない  

「なぜ作るのか」  
「何を作るのか」  
「どこまで作り、どこから作らないのか」

を判断するための、最上位の実務ドキュメントである。

本PRDは `00_Vision_NorthStar.md` を最上位原則として参照する。

---

## 1. プロダクト概要

### 1.1 プロダクト名
context-os（Kuhara OS）

### 1.2 プロダクトの定義
context-osは、

> 思考・作業・判断の「途中状態」を  
> 状態付きノードとして外部に保存し、  
> AIがそれを管理・再提示する  
> **外部ワーキングメモリOS**

である。

---

## 2. 対象ユーザー

### 2.1 想定ユーザー（一次）
- 経営者・事業責任者
- 講演・営業・企画・判断を並行する知的労働者
- 同時に複数プロジェクトを進めている人

### 2.2 ユーザーの特徴
- タスクが多いのではない  
- **思考の途中が多い**
- 中断と再開が日常的に発生する
- ワーキングメモリが常に逼迫している

---

## 3. 解決すべき課題

### 3.1 表面的な課題（本質ではない）
- タスクが整理できない
- 優先順位がつけられない
- 時間が足りない

### 3.2 本質的な課題
**思考の途中を安全に中断し、  
意味を失わずに再開できる場所がない**

既存ツールは以下のいずれかしか扱えない。

| 種類 | 問題点 |
|---|---|
| ToDo | 途中状態を持てない |
| メモ | 再開を前提としていない |
| チャット | 流れて消える |
| プロジェクト管理 | 重く、日常思考に向かない |

---

## 4. 解決アプローチ

### 4.1 管理対象の再定義
context-osが管理するのは **タスク** ではなく **状態** である。

### 4.2 基本構造（3層モデル）

#### Layer 1：Node
- 思考・作業・メモ・タスクを統一表現
- ノードは1種類のみ

#### Layer 2：Status
- 作業の局面（ライフサイクル）
- AIが推定・更新
- 人は指摘・修正のみ行う

#### Layer 3：Temperature
- 関心・接触頻度・熱量
- 完全自動
- 冷却・再燃を検知する補助軸

---

## 5. ノード（Node）設計方針

### 5.1 ノードの定義
Nodeとは、

> 人間の思考や作業を  
> 一時的に外部化するための  
> 最小単位のコンテナ

である。

### 5.2 ノードが持つ主要属性（概要）
- title
- context（思考・作業の途中情報）
- status
- temperature
- parent_id（階層構造）
- relations（参照関係）
- history（状態変化ログ）

詳細は `04_Domain_Model.md` に委ねる。

---

## 6. ステータス設計の前提

### 6.1 ステータス設計でやらないこと
- 種類を増やしすぎない
- 業務固有の状態を作らない
- 温度と混ぜない

### 6.2 ステータスの役割
- 今どの局面にあるかを示す
- なぜ止まっているかを説明する
- 再開の入口を提供する

### 6.3 管理責任
- AI：推定・自動更新
- 人：違和感があれば修正

---

## 7. 温度（Temperature）設計の前提

### 7.1 温度の定義
温度は、

> ノードに対する  
> 関心・接触頻度・重要度の変化

を表す補助指標である。

### 7.2 状態との違い

| 項目 | Status | Temperature |
|---|---|---|
| 意味 | 作業の局面 | 熱量・関心 |
| 用途 | 再開判断 | 注意喚起 |
| 操作 | AI管理 | AI管理 |

---

## 8. 主要ユースケース（完成形）

### 8.1 思考の捕捉
- 雑な入力（愚痴・思いつき）
- 「あとで考える」

→ ノード化され、CAPTURED 状態で保存される。

---

### 8.2 再開
ユーザーが

> 「今なにやる？」

と聞くと、context-osは以下を返す。

- 動いているノード
- 止まっている理由
- 外部待ち
- 冷えているが重要なもの
- **次にやる一手（1つ）**

---

### 8.3 冷却・再燃
- 更新されないノードは温度が下がる
- 重要だが冷えているものは確認対象になる
- 外部イベントにより自動再燃する

---

### 8.4 委任（人・AI）
- 人に投げた作業
- AIに投げた作業

どちらも **DELEGATED** として管理され、  
一時的に机の上から外れる。

---

## 9. MVPの切り出し方

MVPとは、  
**機能が少ない状態**ではなく  
**価値が最小限成立する状態**である。

### 9.1 MVPで必ず成立させる体験
1. ノードを作成できる  
2. ノードが状態を持つ  
3. 思考を再開できる  
4. 「今なにやる？」に答えられる  

### 9.2 MVPでやらないこと
- 自動実行
- 高度なUI
- 組織・権限管理
- 高度な分析機能

---

## 10. 成功条件（KPIではない）

以下の行動変化が起きていれば成功とみなす。

- 着席後すぐ作業に入れる
- 中断からの再開が苦にならない
- 「何からだっけ？」が減る
- 思考を途中で止めることへの抵抗がなくなる

---

## 11. 非ゴール（要約）

- 管理・監視ツールにしない
- 判断をAIに委ねない
- 作業を自動化しすぎない

詳細は `02_Non_Goals.md` を参照する。

---

## 12. 本PRDの位置づけ

本PRDは、

- 実装のチェックリストではない  
- 状況に応じて頻繁に書き換える文書ではない  

**context-osが何者であるかを定義する設計文書**であり、  
以後のすべての判断は  
本PRDとの整合性を基準とする。

---

## 13. 次に参照すべき文書

- `05_State_Machine.md`
- `06_Temperature_Spec.md`

これらは本PRDを具体化する  
最重要の下位設計文書である。



